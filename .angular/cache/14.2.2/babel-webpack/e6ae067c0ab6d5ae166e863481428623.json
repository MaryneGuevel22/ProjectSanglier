{"ast":null,"code":"import _asyncToGenerator from \"/Users/guevel/ProjectSanglier/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nlet ComponentListPatientComponent = class ComponentListPatientComponent {\n  constructor(patientService, rendezVousService) {\n    this.patientService = patientService;\n    this.rendezVousService = rendezVousService;\n    this.patients = [];\n    this.rdv = [];\n    this.otherPatient = {\n      'id': '632ac2df633beb221b834dd6',\n      'active': true,\n      'name': [{\n        'family': 'DUPONT',\n        'given': ['Pierre']\n      }],\n      'address': [{\n        'use': 'home',\n        'line': ['7 rue des petites écuries'],\n        'city': 'Paris',\n        'country': 'France'\n      }],\n      'gender': 'mâle'\n    };\n    this.patientChild = {\n      'id': '',\n      'active': true,\n      'name': [{\n        'family': '',\n        'given': ['']\n      }],\n      'address': [{\n        'use': '',\n        'line': [''],\n        'city': '',\n        'country': ''\n      }],\n      'gender': ''\n    };\n    this.rdvChild = {\n      \"start\": \"\"\n    };\n  }\n\n  changeName(patient, rdv) {\n    this.patientChild = patient;\n    this.rdvChild = rdv;\n    console.log(rdv);\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.patientService.getPatient().subscribe(element => {\n        _this.patients.push(element);\n\n        _this.patients.push(_this.otherPatient);\n      });\n      yield _this.rendezVousService.getRDV().subscribe(element => {\n        element.forEach(elem => {\n          elem.start = new Date(elem.start).toLocaleDateString(\"fr\").toString();\n        });\n        _this.patients[0].rdv = element;\n        _this.patients[1].rdv = [];\n      });\n    })();\n  }\n\n};\n\n__decorate([Input()], ComponentListPatientComponent.prototype, \"patientChild\", void 0);\n\n__decorate([Input()], ComponentListPatientComponent.prototype, \"rdvChild\", void 0);\n\nComponentListPatientComponent = __decorate([Component({\n  selector: 'app-component-list-patient',\n  templateUrl: './component-list-patient.component.html',\n  styleUrls: ['./component-list-patient.component.css']\n})], ComponentListPatientComponent);\nexport { ComponentListPatientComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAT,EAAoBC,KAApB,QAAyC,eAAzC;AAUA,IAAaC,6BAA6B,GAA1C,MAAaA,6BAAb,CAA0C;EA0DxCC,YAAoBC,cAApB,EAA4DC,iBAA5D,EAAgG;IAA5E;IAAwC;IAxD5D,gBAAmB,EAAnB;IACA,WAAc,EAAd;IAEA,oBAAe;MACb,MAAO,0BADM;MAEb,UAAW,IAFE;MAGb,QAAS,CAAC;QACR,UAAW,QADH;QAER,SAAU,CAAC,QAAD;MAFF,CAAD,CAHI;MAOb,WAAW,CACT;QACI,OAAO,MADX;QAEI,QAAQ,CACJ,2BADI,CAFZ;QAKI,QAAQ,OALZ;QAMI,WAAW;MANf,CADS,CAPE;MAiBb,UAAW;IAjBE,CAAf;IAuBA,oBAAe;MACb,MAAO,EADM;MAEb,UAAW,IAFE;MAGb,QAAS,CAAC;QACR,UAAW,EADH;QAER,SAAU,CAAC,EAAD;MAFF,CAAD,CAHI;MAOb,WAAW,CACT;QACI,OAAO,EADX;QAEI,QAAQ,CACJ,EADI,CAFZ;QAKI,QAAQ,EALZ;QAMI,WAAW;MANf,CADS,CAPE;MAiBb,UAAW;IAjBE,CAAf;IAqBA,gBAAW;MAAC,SAAQ;IAAT,CAAX;EAWC;;EATDC,UAAU,CAACC,OAAD,EAAgBC,GAAhB,EAAwB;IAChC,KAAKC,YAAL,GAAoBF,OAApB;IACA,KAAKG,QAAL,GAAgBF,GAAhB;IAEAG,OAAO,CAACC,GAAR,CAAYJ,GAAZ;EACD;;EAMKK,QAAQ;IAAA;;IAAA;MACX,MAAM,KAAI,CAACT,cAAL,CAAoBU,UAApB,GAAiCC,SAAjC,CAA2CC,OAAO,IAAE;QACzD,KAAI,CAACC,QAAL,CAAcC,IAAd,CAAmBF,OAAnB;;QACA,KAAI,CAACC,QAAL,CAAcC,IAAd,CAAmB,KAAI,CAACC,YAAxB;MAED,CAJM,CAAN;MAMF,MAAM,KAAI,CAACd,iBAAL,CAAuBe,MAAvB,GAAgCL,SAAhC,CAA0CC,OAAO,IAAE;QACtDA,OAAO,CAACK,OAAR,CAAiBC,IAAD,IAAe;UAC7BA,IAAI,CAACC,KAAL,GAAa,IAAIC,IAAJ,CAASF,IAAI,CAACC,KAAd,EAAqBE,kBAArB,CAAwC,IAAxC,EAA8CC,QAA9C,EAAb;QACD,CAFD;QAIA,KAAI,CAACT,QAAL,CAAc,CAAd,EAAiBT,GAAjB,GAAuBQ,OAAvB;QACA,KAAI,CAACC,QAAL,CAAc,CAAd,EAAiBT,GAAjB,GAAuB,EAAvB;MACD,CAPI,CAAN;IAPa;EAgBb;;AA9EuC,CAA1C;;AA4BEmB,YADC1B,KAAK,EACN;;AAqBA0B,YADC1B,KAAK,EACN;;AAjDWC,6BAA6B,eANzCF,SAAS,CAAC;EACT4B,QAAQ,EAAE,4BADD;EAETC,WAAW,EAAE,yCAFJ;EAGTC,SAAS,EAAE,CAAC,wCAAD;AAHF,CAAD,CAMgC,GAA7B5B,6BAA6B,CAA7B;SAAAA","names":["Component","Input","ComponentListPatientComponent","constructor","patientService","rendezVousService","changeName","patient","rdv","patientChild","rdvChild","console","log","ngOnInit","getPatient","subscribe","element","patients","push","otherPatient","getRDV","forEach","elem","start","Date","toLocaleDateString","toString","__decorate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/Users/guevel/ProjectSanglier/src/app/component-list-patient/component-list-patient.component.ts"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { RendezVousService } from '../service/rendez-vous.service';\nimport { PatientService } from '../service/service-patient.service';\n\n@Component({\n  selector: 'app-component-list-patient',\n  templateUrl: './component-list-patient.component.html',\n  styleUrls: ['./component-list-patient.component.css']\n})\n\nexport class ComponentListPatientComponent implements OnInit {\n\n  patients : any[] = [];\n  rdv : any[] = [];\n\n  otherPatient = {\n    'id' : '632ac2df633beb221b834dd6',\n    'active' : true,\n    'name' : [{\n      'family' : 'DUPONT',\n      'given' : ['Pierre'],\n    }],\n    'address': [\n      {\n          'use': 'home',\n          'line': [\n              '7 rue des petites écuries'\n          ],\n          'city': 'Paris',\n          'country': 'France'\n      }\n  ],\n    'gender' : 'mâle'\n  }\n\n\n\n  @Input() \n  patientChild = {\n    'id' : '',\n    'active' : true,\n    'name' : [{\n      'family' : '',\n      'given' : [''],\n    }],\n    'address': [\n      {\n          'use': '',\n          'line': [\n              ''\n          ],\n          'city': '',\n          'country': ''\n      }\n  ],\n    'gender' : ''\n  }\n\n  @Input() \n  rdvChild = {\"start\":\"\"}\n\n  changeName(patient : any, rdv :any): void {\n    this.patientChild = patient;\n    this.rdvChild = rdv;\n\n    console.log(rdv)\n  }\n\n  constructor(private patientService: PatientService, private rendezVousService: RendezVousService) {\n\n  }\n\n  async ngOnInit(): Promise<void> {\n     await this.patientService.getPatient().subscribe(element=>{\n      this.patients.push(element);\n      this.patients.push(this.otherPatient)\n\n    });\n\n   await this.rendezVousService.getRDV().subscribe(element=>{\n      element.forEach((elem : any) => {\n        elem.start = new Date(elem.start).toLocaleDateString(\"fr\").toString();\n      })\n    \n      this.patients[0].rdv = element;\n      this.patients[1].rdv = [];\n    });\n\n  }\n\n  /* search(filterValue : string): void {\n    this.patients.filter((val: Patient) => {\n      return val.name.family.toLowerCase().indexOf(filterValue) > -1;\n    });\n  } */\n}\n"]},"metadata":{},"sourceType":"module"}